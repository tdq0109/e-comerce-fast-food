@{
    ViewData["Title"] = "Thống kê";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h1>Trang quản trị</h1>
<hr />
@model ASM.Models.ViewModels.Dashboard.DashboardViewModel

<h2>Thống kê</h2>

<div class="row">
    <div class="col-md-3">
        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Tổng đơn hàng đã bán</div>
            <div class="card-body">
                <h3>@Model.TotalOrdersDelivered</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Doanh thu hôm nay</div>
            <div class="card-body">
                <h3>@Model.RevenueToday.ToString("N0") đ</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Doanh thu tháng này</div>
            <div class="card-body">
                <h3>@Model.RevenueThisMonth.ToString("N0") đ</h3>
            </div>
        </div>
    </div>
    <div class="card text-white bg-primary mb-3">
        <div class="card-header">Sản phẩm/Combo bán chạy nhất</div>
        <div class="card-body">
            @if (Model.BestSellingItems.Any())
            {
                <table class="table table-striped table-sm text-white">
                    <thead>
                        <tr>
                            <th>Tên</th>
                            <th>Loại</th>
                            <th>Số lượng bán</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.BestSellingItems)
                        {
                            <tr>
                                <td>@item.Name</td>
                                <td>@(item.IsCombo ? "Combo" : "Sản phẩm")</td>
                                <td>@item.Quantity</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>Chưa có dữ liệu bán hàng</p>
            }
        </div>
    </div>
</div>
